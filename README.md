# Vue Django plugin

Utility to use Django (with Django Rest Framework ) as Backend framework and Vue as a front end framework.

​	VueDjango creates a Django object inside your aplication component, this object has access to the common context variables that injects to its templates such as, the CSRF Token, User, Navigation URLs, nad the  Endpoints to authentication and requests. This  allows Vue interact seamlessly with the Django backend.

## Requierements

You need  to have the VueDjango aplication running on the server side. The plugin also uses Axios as a dependency.

## Instalation

On your **main.js** file

```javascript
Vue.prototype.$django = Django(DJANGO_CONTEXT)
```

​	DJANGO_CONTEXT is the  contaant generated by the VueDjango BackEnd tag, the tag shoul be located before the  Vue definition to use the  package.

## Usage

### The Django Object

All the metadata is storage in this object, it can be accessed in the Vue components through **this.$django** it has several utilities:

#### User

this.$django.user

​	Shows the authenticated user at the time, if is an anonymous user, it will return **false**

​	If there is an authenticated user will return an object with the base user metadata found in the default django user model.

```json
user:{
    id: 1,
	email: "user@email.com",
	first_name: "jon",
    last_name: "doe",
    username: "jdoe",
    //Groups will return aa Array of names of the groups that the user is part of
	groups:[],
    //Permisions will return aa Array of names of the permisions that the user is part of
	permissions:[],
	}
```

#### Auth

this.$django.auth

 Return an object with all the information and variables necessaries to authenticate a user, it has two main methods.

##### Login: 

Used  as **this.$django.auth.login({ user/ password })** 

​	Returns a Promise that is resolved opens a session. It should refresh the browser to update the user object. Its recommended to redirect to a 'on_login' path if defined. 

```javasctript
$django.auth.login({ username:'jon', password:'super47774' }).then(
  resolve(done){
	 window.location = host+'/'+this.$django.autentication.on_login
  }).catch(
  //catch error
  )
```

##### Logout: 

Used  as **this.$django.auth.logout()** 

Returns a Promise that is resolved closes a session. It should refresh the browser to update the user object. 

```
$django.auth.logout() // Automatically redirects to on_logout
```

#### Navigation Paths

​	Returns an Array of objects, identifying the routes that the Django application serves. This is useful for the usage of Vue router. 

#### Models

​	Returns a list of Models found in the application, a Model is an endpoint in the  API application that groups several other, each model has a base path and several methods, each method makes a requestto the API following certain specifications, found in the API. The VueDjango Backend transforms each ModelViewSet of ModelView in a model. If the model is based on a ModelViewSet endpoints, the actions are defined in the backend, and will reflect the name of the Viewset method, unless this is edited in the backend. A Django ModelViewSet with no modifications will be represented as a model with its default methods.

So for example if we have the modelViewset "Fruit" in the backend, we will have a it represented as **this.$django.models.fruit** 

1. 

